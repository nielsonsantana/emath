$pyjs.loaded_modules["pyjamas.ui.MouseListener"]=function(c){if($pyjs.loaded_modules["pyjamas.ui.MouseListener"].__was_initialized__){return $pyjs.loaded_modules["pyjamas.ui.MouseListener"]}if(typeof $pyjs.loaded_modules["pyjamas.ui"]=="undefined"||!$pyjs.loaded_modules["pyjamas.ui"].__was_initialized__){pyjslib.___import___("pyjamas.ui",null)}pyjamas.ui["MouseListener"]=$pyjs.loaded_modules["pyjamas.ui.MouseListener"];pyjamas.ui["MouseListener"].__was_initialized__=true;if((c===null)||(typeof c=="undefined")){c="pyjamas.ui.MouseListener"}var b=pyjamas.ui["MouseListener"].__name__=c;var a=pyjamas.ui["MouseListener"];pyjamas.ui["MouseListener"]["DOM"]=pyjslib.___import___("pyjamas.DOM","pyjamas.ui",null,false);pyjamas.ui["MouseListener"]["Event"]=pyjslib.___import___("pyjamas.ui.Event","pyjamas.ui",null,false);pyjamas.ui["MouseListener"]["fireMouseEvent"]=function(E,g,O){var G,z,v,J,Q,f,N,s,K,r,m,o,d,M,F,j,k,l,P,u,h,L,H,t,B,p,n,A,q,e,I,C,D,i,w;D=(typeof(l=pyjamas.ui["MouseListener"]["DOM"]["eventGetClientX"](O))==typeof(k=pyjamas.ui["MouseListener"]["DOM"]["getAbsoluteLeft"](g.getElement()))&&(typeof l=="number"||typeof l=="string")?l-k:pyjslib.op_sub(l,k));C=(typeof(j=pyjamas.ui["MouseListener"]["DOM"]["eventGetClientY"](O))==typeof(i=pyjamas.ui["MouseListener"]["DOM"]["getAbsoluteTop"](g.getElement()))&&(typeof j=="number"||typeof j=="string")?j-i:pyjslib.op_sub(j,i));P=pyjamas.ui["MouseListener"]["DOM"]["eventGetType"](O);if(pyjslib.bool(pyjslib.op_eq(P,String("mousedown")))){J=E;if(typeof(u=J.__array)!="undefined"){n=0}else{J=J.__iter__();n=typeof(u=J.__array)!="undefined"?0:(typeof J.$genfunc=="function"?1:-1)}I=0;while(typeof(h=(n?(n>0?J.next(true,false):pyjslib.wrapped_next(J)):u[I++]))!="undefined"){H=h;H.onMouseDown(g,D,C)}}else{if(pyjslib.bool(pyjslib.op_eq(P,String("mouseup")))){o=E;if(typeof(w=o.__array)!="undefined"){K=0}else{o=o.__iter__();K=typeof(w=o.__array)!="undefined"?0:(typeof o.$genfunc=="function"?1:-1)}B=0;while(typeof(A=(K?(K>0?o.next(true,false):pyjslib.wrapped_next(o)):w[B++]))!="undefined"){H=A;H.onMouseUp(g,D,C)}}else{if(pyjslib.bool(pyjslib.op_eq(P,String("mousemove")))){M=E;if(typeof(v=M.__array)!="undefined"){p=0}else{M=M.__iter__();p=typeof(v=M.__array)!="undefined"?0:(typeof M.$genfunc=="function"?1:-1)}m=0;while(typeof(d=(p?(p>0?M.next(true,false):pyjslib.wrapped_next(M)):v[m++]))!="undefined"){H=d;H.onMouseMove(g,D,C)}}else{if(pyjslib.bool(pyjslib.op_eq(P,String("mouseover")))){L=pyjamas.ui["MouseListener"]["DOM"]["eventGetFromElement"](O);if(pyjslib.bool(!pyjslib.bool(pyjamas.ui["MouseListener"]["DOM"]["isOrHasChild"](g.getElement(),L)))){r=E;if(typeof(t=r.__array)!="undefined"){N=0}else{r=r.__iter__();N=typeof(t=r.__array)!="undefined"?0:(typeof r.$genfunc=="function"?1:-1)}e=0;while(typeof(q=(N?(N>0?r.next(true,false):pyjslib.wrapped_next(r)):t[e++]))!="undefined"){H=q;H.onMouseEnter(g)}}}else{if(pyjslib.bool(pyjslib.op_eq(P,String("mouseout")))){f=pyjamas.ui["MouseListener"]["DOM"]["eventGetToElement"](O);if(pyjslib.bool(!pyjslib.bool(pyjamas.ui["MouseListener"]["DOM"]["isOrHasChild"](g.getElement(),f)))){Q=E;if(typeof(z=Q.__array)!="undefined"){s=0}else{Q=Q.__iter__();s=typeof(z=Q.__array)!="undefined"?0:(typeof Q.$genfunc=="function"?1:-1)}F=0;while(typeof(G=(s?(s>0?Q.next(true,false):pyjslib.wrapped_next(Q)):z[F++]))!="undefined"){H=G;H.onMouseLeave(g)}}}}}}}return null};pyjamas.ui["MouseListener"]["fireMouseEvent"].__name__="fireMouseEvent";pyjamas.ui["MouseListener"]["fireMouseEvent"].__bind_type__=0;pyjamas.ui["MouseListener"]["fireMouseEvent"].__args__=[null,null,["listeners"],["sender"],["event"]];pyjamas.ui["MouseListener"]["MOUSE_EVENTS"]=pyjslib.list([String("mousedown"),String("mouseup"),String("mousemove"),String("mouseover"),String("mouseout")]);pyjamas.ui["MouseListener"]["MouseHandler"]=(function(){var f=$pyjs__class_instance("MouseHandler");var e=new Object();var d;e.__md5__="44268c0c0b3e88236a8efa9eeab3e5be";d=$pyjs__bind_method(f,"__init__",function(i){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];i=arguments[1]}if(typeof i=="undefined"){i=arguments.callee.__args__[3][1]}var g,j;h._mouseListeners=pyjslib.list([]);h._mousePreventDefault=i;h.sinkEvents((((g=pyjamas.ui["MouseListener"]["Event"]["MOUSEEVENTS"])!==null&(j=pyjamas.ui["MouseListener"]["Event"]).__is_instance__)&&typeof g=="function"?pyjslib.getattr(j,"MOUSEEVENTS"):pyjamas.ui["MouseListener"]["Event"]["MOUSEEVENTS"]));return null},1,[null,null,["self"],["preventDefault",false]]);e.__init__=d;d=$pyjs__bind_method(f,"onBrowserEvent",function(j){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];j=arguments[1]}var m,k,l,i,h;h=pyjamas.ui["MouseListener"]["DOM"]["eventGetType"](j);if(pyjslib.bool(pyjamas.ui["MouseListener"]["MOUSE_EVENTS"].__contains__(h))){if(pyjslib.bool((((m=g._mousePreventDefault)!==null&(l=g).__is_instance__)&&typeof m=="function"?pyjslib.getattr(l,"_mousePreventDefault"):g._mousePreventDefault))){pyjamas.ui["MouseListener"]["DOM"]["eventPreventDefault"](j)}pyjamas.ui["MouseListener"]["fireMouseEvent"]((((k=g._mouseListeners)!==null&(i=g).__is_instance__)&&typeof k=="function"?pyjslib.getattr(i,"_mouseListeners"):g._mouseListeners),g,j)}return null},1,[null,null,["self"],["event"]]);e.onBrowserEvent=d;d=$pyjs__bind_method(f,"addMouseListener",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g._mouseListeners["append"](h);return null},1,[null,null,["self"],["listener"]]);e.addMouseListener=d;d=$pyjs__bind_method(f,"removeMouseListener",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g._mouseListeners["remove"](h);return null},1,[null,null,["self"],["listener"]]);e.removeMouseListener=d;d=$pyjs__bind_method(f,"onMouseMove",function(i,g,j){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];i=arguments[1];g=arguments[2];j=arguments[3]}return null},1,[null,null,["self"],["sender"],["x"],["y"]]);e.onMouseMove=d;d=$pyjs__bind_method(f,"onMouseDown",function(i,g,j){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];i=arguments[1];g=arguments[2];j=arguments[3]}return null},1,[null,null,["self"],["sender"],["x"],["y"]]);e.onMouseDown=d;d=$pyjs__bind_method(f,"onMouseUp",function(i,g,j){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];i=arguments[1];g=arguments[2];j=arguments[3]}return null},1,[null,null,["self"],["sender"],["x"],["y"]]);e.onMouseUp=d;d=$pyjs__bind_method(f,"onMouseEnter",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}return null},1,[null,null,["self"],["sender"]]);e.onMouseEnter=d;d=$pyjs__bind_method(f,"onMouseLeave",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}return null},1,[null,null,["self"],["sender"]]);e.onMouseLeave=d;return $pyjs__class_function(f,e,new Array(pyjslib.object))})();return this};