$pyjs.loaded_modules["pyjamas.ui.FocusListener"]=function(c){if($pyjs.loaded_modules["pyjamas.ui.FocusListener"].__was_initialized__){return $pyjs.loaded_modules["pyjamas.ui.FocusListener"]}if(typeof $pyjs.loaded_modules["pyjamas.ui"]=="undefined"||!$pyjs.loaded_modules["pyjamas.ui"].__was_initialized__){pyjslib.___import___("pyjamas.ui",null)}pyjamas.ui["FocusListener"]=$pyjs.loaded_modules["pyjamas.ui.FocusListener"];pyjamas.ui["FocusListener"].__was_initialized__=true;if((c===null)||(typeof c=="undefined")){c="pyjamas.ui.FocusListener"}var a=pyjamas.ui["FocusListener"].__name__=c;var b=pyjamas.ui["FocusListener"];pyjamas.ui["FocusListener"]["DOM"]=pyjslib.___import___("pyjamas.DOM","pyjamas.ui",null,false);pyjamas.ui["FocusListener"]["Event"]=pyjslib.___import___("pyjamas.ui.Event","pyjamas.ui",null,false);pyjamas.ui["FocusListener"]["fireFocusEvent"]=function(o,l,f){var j,p,k,r,q,e,h,m,i,n,g,d;n=pyjamas.ui["FocusListener"]["DOM"]["eventGetType"](f);if(pyjslib.bool(pyjslib.op_eq(n,String("focus")))){e=o;if(typeof(m=e.__array)!="undefined"){d=0}else{e=e.__iter__();d=typeof(m=e.__array)!="undefined"?0:(typeof e.$genfunc=="function"?1:-1)}r=0;while(typeof(p=(d?(d>0?e.next(true,false):pyjslib.wrapped_next(e)):m[r++]))!="undefined"){h=p;h.onFocus(l)}}else{if(pyjslib.bool(pyjslib.op_eq(n,String("blur")))){k=o;if(typeof(g=k.__array)!="undefined"){i=0}else{k=k.__iter__();i=typeof(g=k.__array)!="undefined"?0:(typeof k.$genfunc=="function"?1:-1)}q=0;while(typeof(j=(i?(i>0?k.next(true,false):pyjslib.wrapped_next(k)):g[q++]))!="undefined"){h=j;h.onLostFocus(l)}}}return null};pyjamas.ui["FocusListener"]["fireFocusEvent"].__name__="fireFocusEvent";pyjamas.ui["FocusListener"]["fireFocusEvent"].__bind_type__=0;pyjamas.ui["FocusListener"]["fireFocusEvent"].__args__=[null,null,["listeners"],["sender"],["event"]];pyjamas.ui["FocusListener"]["FOCUS_EVENTS"]=pyjslib.list([String("focus"),String("blur")]);pyjamas.ui["FocusListener"]["FocusHandler"]=(function(){var f=$pyjs__class_instance("FocusHandler");var e=new Object();var d;e.__md5__="4a31a97c5cefdb364dacada470765da3";d=$pyjs__bind_method(f,"__init__",function(){if(this.__is_instance__===true){var h=this}else{var h=arguments[0]}var g,i;h._focusListeners=pyjslib.list([]);h.sinkEvents((((g=pyjamas.ui["FocusListener"]["Event"]["FOCUSEVENTS"])!==null&(i=pyjamas.ui["FocusListener"]["Event"]).__is_instance__)&&typeof g=="function"?pyjslib.getattr(i,"FOCUSEVENTS"):pyjamas.ui["FocusListener"]["Event"]["FOCUSEVENTS"]));return null},1,[null,null,["self"]]);e.__init__=d;d=$pyjs__bind_method(f,"onFocus",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}return null},1,[null,null,["self"],["sender"]]);e.onFocus=d;d=$pyjs__bind_method(f,"onLostFocus",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}return null},1,[null,null,["self"],["sender"]]);e.onLostFocus=d;d=$pyjs__bind_method(f,"onBrowserEvent",function(j){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];j=arguments[1]}var g,m,l,k,i;i=pyjamas.ui["FocusListener"]["DOM"]["eventGetType"](j);if(pyjslib.bool((pyjslib.bool(g=pyjslib.op_eq(i,String("blur")))?g:pyjslib.op_eq(i,String("focus"))))){pyjamas.ui["FocusListener"]["fireFocusEvent"]((((l=h._focusListeners)!==null&(k=h).__is_instance__)&&typeof l=="function"?pyjslib.getattr(k,"_focusListeners"):h._focusListeners),h,j)}return null},1,[null,null,["self"],["event"]]);e.onBrowserEvent=d;d=$pyjs__bind_method(f,"addFocusListener",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g._focusListeners["append"](h);return null},1,[null,null,["self"],["listener"]]);e.addFocusListener=d;d=$pyjs__bind_method(f,"removeFocusListener",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g._focusListeners["remove"](h);return null},1,[null,null,["self"],["listener"]]);e.removeFocusListener=d;return $pyjs__class_function(f,e,new Array(pyjslib.object))})();return this};