$pyjs.loaded_modules["pyjamas.Canvas2D"]=function(c){if($pyjs.loaded_modules["pyjamas.Canvas2D"].__was_initialized__){return $pyjs.loaded_modules["pyjamas.Canvas2D"]}if(typeof $pyjs.loaded_modules.pyjamas=="undefined"||!$pyjs.loaded_modules.pyjamas.__was_initialized__){pyjslib.___import___("pyjamas",null)}pyjamas.Canvas2D=$pyjs.loaded_modules["pyjamas.Canvas2D"];pyjamas.Canvas2D.__was_initialized__=true;if((c===null)||(typeof c=="undefined")){c="pyjamas.Canvas2D"}var a=pyjamas.Canvas2D.__name__=c;var b=pyjamas.Canvas2D;pyjamas.Canvas2D["DOM"]=pyjslib.___import___("pyjamas.DOM","pyjamas",null,false);pyjamas.Canvas2D["Image"]=pyjslib.___import___("pyjamas.ui.Image.Image","pyjamas",null,false);pyjamas.Canvas2D["FocusWidget"]=pyjslib.___import___("pyjamas.ui.FocusWidget.FocusWidget","pyjamas",null,false);pyjamas.Canvas2D["Event"]=pyjslib.___import___("pyjamas.ui.Event","pyjamas",null,false);pyjamas.Canvas2D["MouseListener"]=pyjslib.___import___("pyjamas.ui.MouseListener","pyjamas",null,false);pyjamas.Canvas2D["KeyboardListener"]=pyjslib.___import___("pyjamas.ui.KeyboardListener","pyjamas",null,false);pyjamas.Canvas2D["Focus"]=pyjslib.___import___("pyjamas.ui.Focus","pyjamas",null,false);pyjamas.Canvas2D["FocusListener"]=pyjslib.___import___("pyjamas.ui.FocusListener","pyjamas",null,false);pyjamas.Canvas2D["Canvas"]=(function(){var f=$pyjs__class_instance("Canvas");var e=new Object();var d;e.__md5__="1379706144d35a14713456096b317cb7";d=$pyjs__bind_method(f,"__init__",function(h,m){if(this.__is_instance__===true){var i=this;var j=arguments.length>=3?arguments[arguments.length-1]:arguments[arguments.length];if(typeof j!="object"||j.__name__!="dict"||typeof j.$pyjs_is_kwarg=="undefined"){j=arguments[arguments.length+1]}else{delete j["$pyjs_is_kwarg"]}}else{var i=arguments[0];h=arguments[1];m=arguments[2];var j=arguments.length>=4?arguments[arguments.length-1]:arguments[arguments.length];if(typeof j!="object"||j.__name__!="dict"||typeof j.$pyjs_is_kwarg=="undefined"){j=arguments[arguments.length+1]}else{delete j["$pyjs_is_kwarg"]}}if(typeof j=="undefined"){j=pyjslib.__empty_dict();if(typeof m!="undefined"){if(m!==null&&typeof m["$pyjs_is_kwarg"]!="undefined"){j=m;m=arguments[3]}}else{if(typeof h!="undefined"){if(h!==null&&typeof h["$pyjs_is_kwarg"]!="undefined"){j=h;h=arguments[3]}}else{if(typeof i!="undefined"){if(i!==null&&typeof i["$pyjs_is_kwarg"]!="undefined"){j=i;i=arguments[3]}}else{}}}}if(typeof h=="undefined"){h=arguments.callee.__args__[3][1]}if(typeof m=="undefined"){m=arguments.callee.__args__[4][1]}var g,k,l;if(pyjslib.bool(!pyjslib.bool(j.has_key(String("StyleName"))))){j.__setitem__(String("StyleName"),String("gwt-Canvas"))}j.__setitem__(String("Width"),h);j.__setitem__(String("Height"),m);i.context=null;k=pyjamas.Canvas2D["Focus"]["createFocusable"]();i.canvas=pyjamas.Canvas2D["DOM"]["createElement"](String("canvas"));pyjamas.Canvas2D["DOM"]["appendChild"](k,(((g=i.canvas)!==null&(l=i).__is_instance__)&&typeof g=="function"?pyjslib.getattr(l,"canvas"):i.canvas));$pyjs_kwargs_call(pyjamas.Canvas2D["FocusWidget"],"__init__",null,j,[{},i,k]);i.init();i.context.fillStyle=String("black");i.context.strokeStyle=String("black");return null},1,[null,["kwargs"],["self"],["Width",0],["Height",0]]);e.__init__=d;d=$pyjs__bind_method(f,"setWidth",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}pyjamas.Canvas2D["FocusWidget"]["setWidth"](g,h);g.canvas.width=h;return null},1,[null,null,["self"],["width"]]);e.setWidth=d;d=$pyjs__bind_method(f,"setHeight",function(g){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];g=arguments[1]}pyjamas.Canvas2D["FocusWidget"]["setHeight"](h,g);h.canvas.height=g;return null},1,[null,null,["self"],["height"]]);e.setHeight=d;d=$pyjs__bind_method(f,"getContext",function(){if(this.__is_instance__===true){var g=this}else{var g=arguments[0]}var i,h;return(((i=g.context)!==null&(h=g).__is_instance__)&&typeof i=="function"?pyjslib.getattr(h,"context"):g.context)},1,[null,null,["self"]]);e.getContext=d;d=$pyjs__bind_method(f,"isEmulation",function(){if(this.__is_instance__===true){var g=this}else{var g=arguments[0]}return(typeof $wnd.G_vmlCanvasManager!="undefined")},1,[null,null,["self"]]);e.isEmulation=d;d=$pyjs__bind_method(f,"init",function(){if(this.__is_instance__===true){var h=this}else{var h=arguments[0]}var k=this.canvas;if(typeof $wnd.G_vmlCanvasManager!="undefined"){var j=k.parent;k=$wnd.G_vmlCanvasManager.fixElement_(k);k.getContext=function(){if(this.context_){return this.context_}return this.context_=new $wnd.CanvasRenderingContext2D(k)};k.attachEvent("onpropertychange",function(l){switch(l.propertyName){case"width":case"height":break}});var i=k.attributes;if(i.width&&i.width.specified){k.style.width=i.width.nodeValue+"px"}if(i.height&&i.height.specified){k.style.height=i.height.nodeValue+"px"}}var g=k.getContext("2d");g._createPattern=g.createPattern;g.createPattern=function(l,m){return this._createPattern(l,m)};g._drawImage=g.drawImage;g.drawImage=function(){var l=arguments;if(l.length==9){return this._drawImage(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8])}else{if(l.length==5){return this._drawImage(l[0],l[1],l[2],l[3],l[4])}}return this._drawImage(l[0],l[1],l[2])};this.context=g},1,[null,null,["self"]]);e.init=d;return $pyjs__class_function(f,e,new Array(pyjamas.Canvas2D["FocusWidget"]))})();pyjamas.Canvas2D["CanvasImage"]=(function(){var f=$pyjs__class_instance("CanvasImage");var e=new Object();var d;e.__md5__="e3ed6bc563e6eb26abb243ae7796bb42";d=$pyjs__bind_method(f,"__init__",function(i,h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];i=arguments[1];h=arguments[2]}if(typeof i=="undefined"){i=arguments.callee.__args__[3][1]}if(typeof h=="undefined"){h=arguments.callee.__args__[4][1]}pyjamas.Canvas2D["Image"]["__init__"](g,i);if(pyjslib.bool(h)){g.addLoadListener(h)}g.onAttach();return null},1,[null,null,["self"],["url",String("")],["load_listener",null]]);e.__init__=d;d=$pyjs__bind_method(f,"isLoaded",function(){if(this.__is_instance__===true){var g=this}else{var g=arguments[0]}var i,h;return(((i=g.getElement()["complete"])!==null&(h=g.getElement()).__is_instance__)&&typeof i=="function"?pyjslib.getattr(h,"complete"):g.getElement()["complete"])},1,[null,null,["self"]]);e.isLoaded=d;return $pyjs__class_function(f,e,new Array(pyjamas.Canvas2D["Image"]))})();pyjamas.Canvas2D["ImageLoadListener"]=(function(){var f=$pyjs__class_instance("ImageLoadListener");var e=new Object();var d;e.__md5__="44420080419c371a6a589b86a03705c3";d=$pyjs__bind_method(f,"__init__",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}if(typeof h=="undefined"){h=arguments.callee.__args__[3][1]}g.wait_list=pyjslib.list([]);g.loadListeners=pyjslib.list([]);if(pyjslib.bool(h)){g.addLoadListener(h)}return null},1,[null,null,["self"],["listener",null]]);e.__init__=d;d=$pyjs__bind_method(f,"add",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g.wait_list["append"](h);h.addLoadListener(g);return null},1,[null,null,["self"],["sender"]]);e.add=d;d=$pyjs__bind_method(f,"addLoadListener",function(h){if(this.__is_instance__===true){var g=this}else{var g=arguments[0];h=arguments[1]}g.loadListeners["append"](h);return null},1,[null,null,["self"],["listener"]]);e.addLoadListener=d;d=$pyjs__bind_method(f,"isLoaded",function(){if(this.__is_instance__===true){var g=this}else{var g=arguments[0]}var h,i;if(pyjslib.bool(pyjslib.len((((i=g.wait_list)!==null&(h=g).__is_instance__)&&typeof i=="function"?pyjslib.getattr(h,"wait_list"):g.wait_list)))){return false}return true},1,[null,null,["self"]]);e.isLoaded=d;d=$pyjs__bind_method(f,"onError",function(i){if(this.__is_instance__===true){var h=this}else{var h=arguments[0];i=arguments[1]}var l,g,m,n,k,j;n=h.loadListeners;if(typeof(j=n.__array)!="undefined"){g=0}else{n=n.__iter__();g=typeof(j=n.__array)!="undefined"?0:(typeof n.$genfunc=="function"?1:-1)}m=0;while(typeof(l=(g?(g>0?n.next(true,false):pyjslib.wrapped_next(n)):j[m++]))!="undefined"){k=l;k.onError(i)}return null},1,[null,null,["self"],["sender"]]);e.onError=d;d=$pyjs__bind_method(f,"onLoad",function(k){if(this.__is_instance__===true){var i=this}else{var i=arguments[0];k=arguments[1]}var n,h,m,l,j,g;i.wait_list["remove"](k);if(pyjslib.bool(i.isLoaded())){m=i.loadListeners;if(typeof(g=m.__array)!="undefined"){h=0}else{m=m.__iter__();h=typeof(g=m.__array)!="undefined"?0:(typeof m.$genfunc=="function"?1:-1)}j=0;while(typeof(n=(h?(h>0?m.next(true,false):pyjslib.wrapped_next(m)):g[j++]))!="undefined"){l=n;l.onLoad(i)}}return null},1,[null,null,["self"],["sender"]]);e.onLoad=d;return $pyjs__class_function(f,e,new Array(pyjslib.object))})();return this};